{
  "parser" : {
    "format" : "csv"
  },
  "columns": [
    "idx","gu","py","amt","x","y","addr"
  ],
  "timestampSpec": {
    "column":"inspection_date", "format":"MM/dd/yyyy", "missingValue": "2018-07-16"
  },
  "dimensionsSpec": {
    "dimensions": ["idx", "gu"]
  },
  "evaluations":[
    { "outputName": "gis", "expressions": [ "struct(y,x,addr)" ] }
  ],
  "metricsSpec": [
    {"type": "relay", "name": "py", "typeName": "float"},
    {"type": "relay", "name": "amt", "typeName": "long"},
    {"type": "relay", "name": "gis", "typeName": "struct(lat:double,lon:double,addr:string)"}
  ],
  "queryGran": "DAY",
  "segmentGran": "YEAR",
  "fixedSchema": true,
  "rollup": false,
  "indexSpec": {
    "bitmap": { "type": "roaring" },
    "secondaryIndexing": {
      "gis": {
        "type": "lucene",
        "strategies": [
          {"type": "latlon", "fieldName": "coord", "latitude": "lat", "longitude": "lon"},
          {"type": "text", "fieldName": "addr"}
        ]
      }
    }
  }
}
